apt-get update
apt-get upgrade
ls 
ls -l
cd /home
ls -l
cd ..
pqd
pwd
ls -l
cd ~ 
ls -l
pqd
pwd
sudo apt install build-essential checkinstall zlib1g-dev -y
cd /usr
ls -l
cd local
ls -l
cd src
ls -l
wget https://www.openssl.org/source/openssl-3.5.0.tar.gz
ls -l
tar -xzvf openssl-3.5.0.tar.gz
ls -l
sudo ./config --prefix=/usr/local/openssl-3.5 --openssldir=/usr/local/openssl-3.5 no-shared
cd openssl-3.5.0/
sudo ./config --prefix=/usr/local/openssl-3.5 --openssldir=/usr/local/openssl-3.5 no-shared
make
sudo nano /etc/profile.d/openssl-3.5.sh
openssl
openssl -v
openssl --version
sudo nano /etc/profile.d/openssl-3.5.sh
source /etc/profile.d/openssl-3.5.sh
openssl
openssl help
openssl version
echo $PATH
echo $LD_LIBRARY_PATH
openssl version
which openssl
clear
openssl version
source /etc/profile.d/openssl-3.5.sh
echo $PATH
which openssl
openssl version
ls -l /usr/local/openssl-3.5/bin/openssl
cd /usr/local/src/openssl-3.5.0/
ls -l
cd ..
ls -l
cd ..
ls -l
cd bin/
ls -l
cd ..
cd src
ls -l
cd openssl-3.5.0/
ls -l
sudo ./config --prefix=/usr/local/openssl-3.5 --openssldir=/usr/local/openssl-3.5 no-shared
make
sudo make install
ls -l
cd /rott
cd /root
ls -l
cd /
ls -l
cd b
cd bin
ls -l
cd ..
ls -l
cd /home
ls -l
pqd
pwd
cd ~ 
ls -l
pwd
cd /usr
l sl-
ls -l
cd bin
ls -l
cd ..
ls -l
cd local
ls -l
cd bin/
ls -l
cd openssl
cd openssl-3.5
ls -l
cd ..
cd openssl-3.5/
l s-l
ls -l
ls -l /usr/local/openssl-3.5/bin/openssl
export PATH=/usr/local/openssl-3.5/bin:$PATH
hash -r
export PATH=/usr/local/openssl-3.5/bin:$PATH
hash -r
which openssl
openssl version
cd /usr/local/src/
ls -l
git clone https://github.com/open-quantum-safe/oqs-provider.git
ls -l
rm openssl-3.5.0.tar.gz 
cd oqs-provider/
OPENSSL_BRANCH=3.5.0
echo OPENSSL_BRANCH
echo $OPENSSL_BRANCH
ls -l
cd scripts/
ls -l
./fllbuild.sh
./fullbuild.sh
cat fullbuild.sh 
./fullbuild.sh
cmake
sudo apt update
sudo apt install cmake
./fullbuild.sh
sudo apt update
sudo apt install build-essential ninja-build
./fullbuild.sh
export OPENSSL_ROOT_DIR=/usr/local/openssl-3.5
export OPENSSL_INCLUDE_DIR=/usr/local/openssl-3.5/include
export OPENSSL_LIBRARIES=/usr/local/openssl-3.5/lib
export OPENSSL_BRANCH=3.5.0
./fullbuild.sh
export OPENSSL_BRANCH=3.5
./fullbuild.sh
cd ..
cmake --install _build
ls -l
cat README.md 
cd ..
ls -l
cd ..
ls -l
cd ..
ls -l
cd oqs-provider/
ls -l
cmake --install _build
cd ..
ls -l
cd openssl-3.5/
cd ..
cd /usr/local/src/liboqs/build
ls -l
cd ..
ls -l
cd build/
ls -l
cd src/
ls -l
cd ..
l s-l
ls -l
sudo make install
cmake install
make install
ninja install
cd ..
l s-l
cd ..
ls -l
cd src
ls -l
cd liboqs/build/
ninja install
cd ..
ls -l
cd ..
ls -l
cd oqs-provider/
ls -l
cat README.md 
cd /usr/local
cd include/oqs
ls -l
cd ..
cd ../lib
ls -l
export liboqs_DIR=/usr/local
export OPENSSL_INSTALL=/usr/local/openssl-3.5
cd ..
ls- l
ls -l
cd src
ls -l
cd oqs-provider/
ls -l
export MAKE_PARAMS="-j$(nproc)"
export OQSPROV_CMAKE_PARAMS="-DOPENSSL_USE_STATIC_LIBS=ON"
./scripts/fullbuild.sh
ls -l
cd ..
ls -l
cd src/oqs-provider/
sudo ninja install
ls -l
cmake install
ls -l
cd _build/
ninja install
cmake -G Ninja ..
make
sudo make install
openssl list -providers
/usr/local/src/oqs-provider/openssl-oqs.cnf
nano /usr/local/src/oqs-provider/openssl-oqs.cnf
ls usr/local/openssl-3.5/lib64/ossl-modules/
ls usr/local/openssl-3.5/lib64/ossl-modules
ls usr/local/openssl-3.5/
ls /usr/local/openssl-3.5/lib64/ossl-modules/
OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl list -providers
export OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf
source ~/.bashrc   # o el archivo que uses
clear
openssl list -providers
alias openssl='OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl'
openssl list -providers
echo "alias openssl='OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl'" >> ~/.bashrc
source ~/.bashrc
openssl list -providers
cd ~/
ls -la
nano .bash_history
openssl list -providers
echo "HASTA AQUI"
sudo apt update
sudo apt install -y build-essential pkg-config libssl-dev liblzo2-dev libpam0g-dev
cd /usr/local/src
wget https://swupdate.openvpn.org/community/releases/openvpn-2.7_alpha1.tar.gz
ls -l
tar -xzvf openvpn-2.7_alpha1.tar.gz
ls -l
rm openvpn-2.7_alpha1.tar.gz 
ls -l
cd openvpn-2.7_alpha1/
ls -l
cat README
nano install-sh 
nano INSTALL 
clear
cat INSTALL 
find / -name "openssl-oqs.cnf"
echo $OPENSSL_CONF
export OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf
echo $OPENSSL_CONF
./configure OPENSSL_CFLAGS="-I/usr/local/openssl-3.5/include" OPENSSL_LIBS="-L/usr/local/openssl-3.5/lib -lssl -lcrypto"
make -j$(nproc)
sudo make install
sudo apt update
sudo apt install libnl-3-dev libnl-genl-3-dev pkg-config
cd /usr/local/src/openvpn-2.7_alpha1
./configure OPENSSL_CFLAGS="-I/usr/local/openssl-3.5/include" OPENSSL_LIBS="-L/usr/local/openssl-3.5/lib -lssl -lcrypto"
make -j$(nproc)
sudo make install
sudo apt install libpkcs11-helper1-dev libcap-ng-dev pkg-config
./configure
make -j$(nproc)
sudo make install
./configure
make -j$(nproc)
sudo make install
sudo apt-get install liblz4-dev
./configure
make -j$(nproc)
sudo make install
find / -name "openssl-oqs.cnf"
openvpn --config  /usr/local/src/oqs-provider/openssl-oqs.cnf
openvpn --version
cd ~/
ls -la
nano .bash_history
ls -la
nano .bash_history
openvpn --version
cd /usr/local/src/openvpn-2.7_alpha1/
make clean
make uninstall
./configure OPENSSL_CFLAGS="-I/usr/local/openssl-3.5/include" OPENSSL_LIBS="-L/usr/local/openssl-3.5/lib64 -lssl -lcrypto"
make -j$(nproc)
sudo make install
openvpn --version
nano ~/.bashrc
source ~/.bashrc
sudo nano /root/.bashrc
ls -l
cd /
ls -l
cd usr
ls-l 
ls -l
cd local/
ls -l
cd ~ 
ls -l
clear
pwd
clear
find / -name "openssl-oqs.cnf" >> configuracion.txt 
cat configuracion.txt 
echo $OPENSSL_CONF
export OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf
echo $OPENSSL_CONF
openssl list -provider
openssl list -providers
openvpn --version
cat configuracion.txt 
cat /usr/local/src/oqs-provider/openssl-oqs.cnf
echo $OPENSSL_CONF
clear
openssl list -public-key-algorithms | grep oqs
openvpn --config /usr/local/src/oqs-provider/openssl-oqs.cnf
clear
ls -l
touch server.conf
nano server.conf 
mkdir -p ~/openvpn-ca
cd ~/openvpn-ca
openssl genpkey -algorithm RSA -out ca.key -aes256
openssl req -new -x509 -days 3650 -key ca.key -out ca.crt -subj "/CN=MyVPN-CA"
ls -l
openssl genpkey -algorithm RSA -out ca.key -aes256
genrsa -out ClavePrivada.pem 4096
openssl
openssl genrsa -out ClavePrivada.pem 4096
openssl req -new -x509 -days 3650 -key ClavePrivada.pem -out Certificado.pem
req -new -x509 -days 3650 -key ClavePrivada.pem -out Certificado.pem
openssl req -new -x509 -days 3650 -key ClavePrivada.pem -out Certificado.pem
ls -l
rm ClavePrivada.pem 
openssl genrsa -out CAClavePrivada.pem 4096
openssl req -new -x509 -days 3650 -key CAClavePrivada.pem -out CACertificado.pem
ls -l
openssl req -new -x509 -days 3650 -key CAClavePrivada.pem -out CACertificado.pem
find / -name "openssl.cnf"
nano /etc/ssl/openssl.cnf
which openssl
ls -l
rm CAClavePrivada.pem 
/usr/local/openssl-3.5/bin/openssl genpkey -algorithm RSA -out ClavePrivada.pem -aes256
ls -l
/usr/local/openssl-3.5/bin/openssl genpkey -algorithm RSA -out ClavePrivada.pem -aes256
nano ../configuracion.txt 
ls -l
/usr/local/openssl-3.5/bin/openssl genpkey -algorithm RSA -out ~/openvpn-ca/private/ca.key.pem -aes256
ls -l
rm ClavePrivada.pem 
/usr/local/openssl-3.5/bin/openssl genpkey -algorithm RSA -out ca.key.pem
/usr/local/openssl-3.5/bin/openssl req -x509 -new -key ca.key.pem -days 3650 -out ca.crt.pem -subj "/CN=MyVPN-CA"
/usr/local/openssl-3.5/bin/openssl genpkey -algorithm RSA -out server.key.pem
/usr/local/openssl-3.5/bin/openssl req -new -key server.key.pem -out server.csr.pem -subj "/CN=server"
/usr/local/openssl-3.5/bin/openssl x509 -req -in server.csr.pem -CA ca.crt.pem -CAkey ca.key.pem -CAcreateserial -out server.crt.pem -days 365
ls -l
cd ..
ls -l
nano server.conf
cp server.conf /etc/openvpn/server.conf
sudo cp server.conf /etc/openvpn/server.conf
sudo cp -p server.conf /etc/openvpn/server.conf
ls -l
cp server.conf /etc/openvpn/serve.conf
ls -l
nano start_server.sh
ls -l
scp root@172.233.110.247:~/openvpn-ca/client.csr.pem .
ls -l
/usr/local/openssl-3.5/bin/openssl x509 -req -in client.csr.pem -CA ca.crt.pem -CAkey ca.key.pem -CAcreateserial -out client.crt.pem -days 365
mv client.csr.pem openvpn-ca/
cd openvpn-ca/
/usr/local/openssl-3.5/bin/openssl x509 -req -in client.csr.pem -CA ca.crt.pem -CAkey ca.key.pem -CAcreateserial -out client.crt.pem -days 365
ls -l
ls- l
ls -l
cd ..
nano server.conf 
ls -l
chmod +x start_server.sh 
./start_server.sh 
ls -l
tree
apt install tree
tree
nano server.conf
ls -l
mv start_server.sh openvpn-ca/
cd openvpn-ca/
./start_server.sh 
ls -l
cd ..
mv server.conf openvpn-ca/
ls -l
cd openvpn-ca/
./start_server.sh 
openssl x509 -in ca.crt -noout -text
ls -l
cd ..
tree
nano openvpn-ca/server.conf 
cd openvpn-ca/
pwd
nano server.conf 
./start_server.sh 
ls -l
nano ca.crt.pem
openssl x509 -in ca.crt.pem -noout -subject -serial
nano server.conf
cat ca.crt.pem 
CLIENT:~/openvpn-ca# find / -name "*.ovpn"
find / -name "*.ovpn"
find /etc/openvpn -type f -name "*.conf"
ls
cat server.conf 
cat start_server.sh 
./start_server.sh 
server.ovpn
cp server.conf server.ovpn
nano server.ovpn
cat ca.crt.pem 
nano server.ovpn
cat server.crt.pem 
nano server.ovpn
cat server.key.pem 
nano server.ovpn
nano start_server.sh 
openssl pkey -in server.key.pem -text -noout
openssl dhparam -out dh.pem 2048
ls -l
nano server.ovpn
./start_server.sh 
nano server.ovpn
./start_server.sh 
echo "CERTIFICADS DE NUEVO"~
echo "CERTIFICADS DE NUEVO"
ls -l
rm ca*
ls -l
rm client.c*
rm dh.pem 
rm ipp.txt 
rm server.*.pem
ls -ll
ls -l
nano openvpn-status.log 
rm openvpn-status.log 
ls -l
rm server.conf
nano server.ovpn 
rm server.ovpn
ls -l
easyrsa init-pki
openssl version
openssl genpkey -algorithm EC -pkeyopt ec_paramgen_curve:secp384r1 -out ca.key
nano ../configuracion.txt 
openssl req -x509 -new -key ca.key -out ca.crt -days 3650 -subj "/CN=OpenVPN-CA"
openssl genpkey -algorithm EC -pkeyopt ec_paramgen_curve:secp384r1 -out server.key
openssl req -new -key server.key -out server.csr -subj "/CN=server"
openssl x509 -req -in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out server.crt -days 365
ls
cat ca.crt
cat ca.key
ls -l
nano server.ovpn
./start_server.sh 
ls -l
nano server.ovpn 
tree
cat server.ovpn 
cat start_server.sh 
nano server.ovpn
openssl list -providers
nano server.ovpn
nano start_server.sh 
ls -l
sudo ./start_server.sh 
nano server.conf
openvpn --version
openssl list -providers
openssl list -kem-algorithms
nano /etc/ssl/openssl.cnf
find / -name "openssl.cnf"
openssl version -a
openssl version 
sudo nano /usr/local/openssl-3.5/openssl.cnf
find /usr -name oqsprovider.so
sudo nano /usr/local/openssl-3.5/openssl.cnf
openssl list -providers
openssl list -kem-algorithms
nano server.ovpn
./start_server.sh 
nano server.ovpn 
ls -l
openssl list -kem-algorithms
ls -l
tail -n 50 /var/log/openvpn.log
sudo tail -n 50 /var/log/openvpn.log
sudo openvpn --config /root/openvpn-ca/server.ovpn --verb 6
nano /root/openvpn-ca/server.ovpn
sudo openvpn --config /root/openvpn-ca/server.ovpn --verb 6
cat server.ovpn 
sudo openvpn --config /root/openvpn-ca/server.ovpn --verb 6
tail -n 50 /var/log/openvpn.log
nano /root/openvpn-ca/server.ovpn
sudo openvpn --config /root/openvpn-ca/server.ovpn --verb 6
cat server.ovpn 
sudo openvpn --config /root/openvpn-ca/server.ovpn --verb 6
openvpn --version
ls -l
nano server.ovpn 
tree
cat server.ovpn 
rm server.ovpn
nano server.ovpn
./start_server.sh 
openssl dhparam -out dh.pem 2048
./start_server.sh
clear
./start_server.sh
cat ca.crt
nano server.ovpn 
cat server.ovpn 
nano server.ovpn 
./start_server.sh
nano server.ovpn 
./start_server.sh
nano server.ovpn 
./start_server.sh
clear
./start_server.sh
nano script_auth.sh
chmod +x /root/openvpn-ca/script_auth.sh
nano server.ovpn 
./start_server.sh
tee
tree
cat server.ovpn 
rm server.ovpn 
nano server.ovpn
./start_server.sh
nano server.ovpn
./start_server.sh
clear
./start_server.sh
cat server.ovpn
rm server.ovpn
nano server.ovpn
./start_server.sh
nano server.ovpn
openssl x509 -in ca.crt -noout -text | grep -A 1 "Basic Constraints"
cat ../configuracion.txt 
nano /usr/local/src/oqs-provider/openssl-oqs.cnf
ls -l
rm ca.crt
openssl req -x509 -new -nodes -key ca.key -sha256 -days 3650 -out ca.crt -extensions ca_ext -config openssl req -x509 -new -nodes -key ca.key -sha256 -days 3650 -out ca.crt -extensions ca_ext -config openssl.cnf

openssl req -x509 -new -nodes -key ca.key -sha256 -days 3650 -out ca.crt -extensions ca_ext -config /usr/local/src/oqs-provider/openssl-oqs.cnf
openssl version -a
find /usr/local/openssl-3.5/* -name "openssl.conf"
openssl version -d
openssl req -new -key dummy.key
openssl version -d
ls -l /usr/local/openssl-3.5/openssl.cnf
nano /usr/local/openssl-3.5/openssl.cnf
cat /usr/local/openssl-3.5/openssl.cnf
nano /usr/local/openssl-3.5/openssl.cnf
ls -l
rm ca*
rm server.c*
rm server.k*
ls -l
rm script_auth.sh 
openssl genpkey -provider default -provider oqsprovider   -algorithm p256_frodo640   -out clave_privada.pem
openssl genpkey -provider default -provider oqsprovider   -algorithm p256_frodo640 -out ca.key.pem
tio, de verdad te lo digo. lso certificados osn 100% clasicos, por favor
openssl genrsa -out ca.key.pem 4096
openssl req -x509 -new -nodes -key ca.key.pem -sha256 -days 3650   -out ca.cert.pem -subj "/C=ES/ST=Asturias/L=Oviedo/O=MiCA/CN=MiCA Root"   -extensions v3_ca   -config <(cat <<EOF
[ req ]
distinguished_name = dn
x509_extensions = v3_ca
prompt = no
[ dn ]
CN = MiCA Root
[ v3_ca ]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints = critical,CA:TRUE
keyUsage = critical, keyCertSign, cRLSign
EOF

)
openssl genrsa -out server.key.pem 4096
openssl req -new -key server.key.pem -out server.csr.pem   -subj "/C=ES/ST=Asturias/L=Oviedo/O=MiEmpresa/CN=servidor.local"
openssl x509 -req -in server.csr.pem -CA ca.cert.pem -CAkey ca.key.pem   -CAcreateserial -out server.cert.pem -days 365   -extensions v3_server -extfile <(cat <<EOF
[v3_server]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer
basicConstraints = CA:FALSE
keyUsage = critical, digitalSignature, keyEncipherment
extendedKeyUsage = serverAuth
EOF

)
ls -l
cat ca.cert.pem 
ls -l
cat ca.key.pem 
./start_server.sh 
ls -l
nano server.ovp
cat server.ovpn
rm server.ovpn
nano server.ovpn
ls -l
openssl x509 -in /root/openvpn-ca/server.cert.pem -text -noout
openssl x509 -in /root/openvpn-ca/ca.cert.pem -text -noout
openssl x509 -in /root/openvpn-ca/client.cert.pem -text -noout  # cliente
openssl x509 -in /root/openvpn-ca/server.cert.pem -text -noout  # servidor
openssl x509 -in /root/openvpn-ca/ca.cert.pem -text -noout  # autoridad certificadora
./start_server.sh 
