sudo apt-get update && upgrade
sudo apt-get upgrade
sudo apt-get upgrade -y
sudo apt-get install -y build-essential checkinstall zlib1g-dev cmake ninja-build git wget
cd /usr/local/src
wget https://www.openssl.org/source/openssl-3.5.0.tar.gz
tar -xzvf openssl-3.5.0.tar.gz
cd openssl-3.5.0/
sudo ./config --prefix=/usr/local/openssl-3.5 --openssldir=/usr/local/openssl-3.5 no-shared
make
make install
export PATH=/usr/local/openssl-3.5/bin:$PATH' | sudo tee /etc/profile.d/openssl-3.5.sh


export PATH=/usr/local/openssl-3.5/bin:$PATH
sudo tee /etc/profile.d/openssl-3.5.s
export LD_LIBRARY_PATH=/usr/local/openssl-3.5/lib:$LD_LIBRARY_PATH
nano /etc/profile.d/openssl-3.5.sh
source /etc/profile.d/openssl-3.5.sh
which openssl
openssl version
cd /usr/local/src
git clone https://github.com/open-quantum-safe/liboqs.git
cd liboqs
mkdir build && cd build
cmake -GNinja -DCMAKE_INSTALL_PREFIX=/usr/local ..
ninja install
cd ..
ninja install
cd build
ls -l
cmake install
make install
sudo make install
sudo apt install build-essential ninja-build
ls -l
cd ..
ls -l
cd scripts
ls -l
cd ..
ls -l
ninja install
cd build/
ls l-
l s-l
ls -l
cmake install
cd CMakeFiles/
ls -l
cd ..
cmake
ls l
ls -l
cat README.md 
cd build/
cmake -GNinja ..
export OPENSSL_ROOT_DIR=/usr/local/openssl-3.5
cmake -GNinja ..
nano /etc/profile.d/openssl-3.5.sh
source /etc/profile.d/openssl-3.5.sh
ninja
sudo ninja install
cd /usr/local/src
git clone https://github.com/open-quantum-safe/oqs-provider.git
cd oqs-provider
export OPENSSL_ROOT_DIR=/usr/local/openssl-3.5
export OPENSSL_INCLUDE_DIR=/usr/local/openssl-3.5/include
export OPENSSL_LIBRARIES=/usr/local/openssl-3.5/lib
export OPENSSL_BRANCH=3.5.0
./scripts/fullbuild.sh
ls ../
export OPENSSL_BRANCH=3.5
./scripts/fullbuild.sh
export OPENSSL_ROOT_DIR=/usr/local/openssl-3.5
export OPENSSL_INCLUDE_DIR=/usr/local/openssl-3.5/include
export OPENSSL_LIBRARIES=/usr/local/openssl-3.5/lib
./scripts/fullbuild.sh
export liboqs_DIR=/usr/local
export OPENSSL_INSTALL=/usr/local/openssl-3.5
./scripts/fullbuild.sh
cd _build/
sudo ninja install
cd ..
sudo ninja install
sudo make install
make
cd _build
make
find / -name "openssl-oqs.cnf"
sudo make install
find / -name "openssl-oqs.cnf"
openssl list -providers
nano /usr/local/src/oqs-provider/openssl-oqs.cnf
OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl list -providers
nano /usr/local/src/oqs-provider/openssl-oqs.cnf
OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl list -providers
export OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf
source ~/.bashrc
openssl list -providers
sudo make install
nano /usr/local/src/oqs-provider/openssl-oqs.cnf
OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl list -providers
alias openssl='OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl
alias openssl=OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl
source ~/.bashrc
openssl list -providers
alias openssl=OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl >> ~/.bashrc
source ~/.bashrc
openssl list -providers
alias openssl='OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl' >> ~/.bashrc
source ~/.bashrc
openssl list -providers
OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl list -providers
export OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf
OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf openssl list -providers
which openssl
/usr/local/openssl-3.5/bin/openssl version
/usr/local/openssl-3.5/bin/openssl list -providers
alias openssl='/usr/local/openssl-3.5/bin/openssl'
export OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf
openssl list -providers
nano /etc/profile.d/openssl-3.5.sh
source /etc/profile.d/openssl-3.5.sh
openssl list -providers
openssl providers -list
openssl list -providers
nano /etc/profile.d/openssl-3.5.sh
source /etc/profile.d/openssl-3.5.sh
openssl list -providers
which openssl
export OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf
alias openssl='/usr/local/openssl-3.5/bin/openssl'
source /etc/profile.d/openssl-3.5.sh
openssl list -providers
nano /etc/profile.d/openssl-3.5.sh
source /etc/profile.d/openssl-3.5.sh
which openssl
openssl version
openssl list -providers
which openssl
openssl version
openssl list -providers
nano /etc/profile.d/openssl-3.5.sh
type openssl
unalias openssl
sudo nano /etc/profile.d/openssl-3.5.sh
source /etc/profile.d/openssl-3.5.sh
which openssl
openssl version
openssl list -providers
which openssl
openssl version
nano /root/.bashrc
source ~/.bashrc
which openssl
openssl version
alias openssl='/usr/local/openssl-3.5/bin/openssl'
openssl version
nano /etc/profile.d/openssl-3.5.sh
source ~/.bashrc
openssl version
openssl list -providers
openssl version
openssl list -providers
sudo apt install -y build-essential pkg-config libssl-dev liblzo2-dev libpam0g-dev
cd /usr/local/src
wget https://swupdate.openvpn.org/community/releases/openvpn-2.7_alpha1.tar.gz
tar -xzvf openvpn-2.7_alpha1.tar.gz
rm openvpn-2.7_alpha1.tar.gz
cd openvpn-2.7_alpha1/
export OPENSSL_CONF=/usr/local/src/oqs-provider/openssl-oqs.cnf
udo apt update
sudo apt install libnl-3-dev libnl-genl-3-dev pkg-config
./configure OPENSSL_CFLAGS="-I/usr/local/openssl-3.5/include" OPENSSL_LIBS="-L/usr/local/openssl-3.5/lib -lssl -lcrypto"
sudo apt update
sudo apt install libnl-3-dev libnl-genl-3-dev pkg-config
sudo apt install pkg-config
./configure OPENSSL_CFLAGS="-I/usr/local/openssl-3.5/include" OPENSSL_LIBS="-L/usr/local/openssl-3.5/lib -lssl -lcrypto"
sudo apt-get install liblz4-dev
./configure
sudo apt update
sudo apt install libcap-ng-dev pkg-config
./configure OPENSSL_CFLAGS="-I/usr/local/openssl-3.5/include" OPENSSL_LIBS="-L/usr/local/openssl-3.5/lib -lssl -lcrypto"
make -j$(nproc)
./configure
make -j$(nproc)
sudo make install
find / -name "openssl-oqs.cnf"
echo $OPENSSL_CONF
./configure OPENSSL_CFLAGS="-I/usr/local/openssl-3.5/include" OPENSSL_LIBS="-L/usr/local/openssl-3.5/lib -lssl -lcrypto"
make -j$(nproc)
clear
make -j$(nproc)
./configue
ls -l
cd ..
ls -l
sudo make install
cd openvpn-2.7_alpha1/
sudo make install
openssl version
make clean
./configure
make -j$(nproc)
sudo make install
openvpn --config  /usr/local/src/oqs-provider/openssl-oqs.cnf
openvpn --version
make clean
openvpn --version
make uninstall
openvpn --version
echo $OPENSSL_LIBS
ls /usr/local/openssl-3.5/lib
ls /usr/local/openssl-3.5/
./configure OPENSSL_CFLAGS="-I/usr/local/openssl-3.5/include" OPENSSL_LIBS="-L/usr/local/openssl-3.5/lib64 -lssl -lcrypto"
make -j$(nproc)
sudo make install
openvpn --config  /usr/local/src/oqs-provider/openssl-oqs.cnf
openvpn --version
sudo nano /root/.bashrc
source /root/.bashrc
cd ~
clear
cd ~ 
pwd
cd ..
ls -l
cd usr
sudo nano /root/.bashrc
source ~/.bashrc
cd ~
clear
pqd
clear
pwd
clear
find / -name "openssl-oqs.cnf"
nano configuracion.txt
ls -l
find / -name "openssl-oqs.cnf" | >> configuracion.txt 
cat configuracion.txt 
find / -name "openssl-oqs.cnf" | << configuracion.txt 
find / -name "openssl-oqs.cnf" >> configuracion.txt 
cat configuracion.txt 
find / -name "openssl-oqs.cnf" > configuracion.txt 
cat configuracion.txt 
find / -name "oqsprovider.so" >> configuracion.txt 
cat configuracion.txt 
echo $OPENSSL_CONF
openssl list provider
openssl list -provider
openssl list -providers
openvpn --version
cat /usr/local/src/oqs-provider/openssl-oqs.cnf
echo $OPENSSL_CONF
clear
openssl list -public-key-algorithms | grep oqs
clear
ls -l
touch client.conf
nano client.conf 
mkdir openvpn-ca
cd openvpn-ca/
/usr/local/openssl-3.5/bin/openssl genpkey -algorithm RSA -out client.key.pem
/usr/local/openssl-3.5/bin/openssl req -new -key client.key.pem -out client.csr.pem -subj "/CN=client"
scp root@172.233.108.45:~/openvpn-ca/client.crt.pem .
scp root@172.233.108.45:~/openvpn-ca/ca.crt.pem .
ls -l
cd ..
nano client.conf
nano start_client.sh
sudo ss -tunlp | grep 1194
sudo netstat -tunlp | grep 1194
sudo ufw status
chmod +x start_client.sh 
ls -l
mv start_client.sh openvpn-ca/
mv client.conf openvpn-ca/
cd openvpn-ca/
./start_client.sh 
ls -l
tree
apt install tree
cd ..
tree
openssl x509 -in openvpn-ca/ca.crt.pem -noout -text
cd openvpn-ca/
ls
nano client.conf 
pqd
pwd
nano client.conf
./start_client.sh 
nano ca.crt.pem
ls -l
openssl x509 -in ca.crt.pem -noout -subject -serial
nano client.cof
nano client.conf
cat ca.crt.pem 
find / -name "*.ovpn"
ls
cat client.conf
cat start_client.sh 
cp client.conf client.ovpn
cat ca.crt.pem
nano client.ovpn 
cat client.crt.pem
nano client.ovpn 
cat client.key.pem 
nano client.ovpn 
nano start_client.sh 
ls -l
./start_client.sh 
ls -la
cat client.ovpn
./start_client.sh 
nano client.ovpn
echo "CERTIFICADS DE NUEVO"
l s-l
ls -l
rm c*
ls -l
openssl version
cat ../configuracion.txt 
cat /usr/local/src/oqs-provider/openssl-oqs.cnf
pkg-config --modversion liboqs
nano ../configuracion.txt 
openssl genpkey -algorithm EC -pkeyopt ec_paramgen_curve:secp384r1 -out client.key
openssl req -new -key client.key -out client.csr -subj "/CN=client"
ls
nano ca.crt
nano ca.key
openssl x509 -req -in client.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out client.crt -days 365
nano client.ovpn
cat start_client.sh 
tree
cat client.ovpn
cat start_client.sh 
openssl list -providers
nano client.ovpn
ls -l
chmod 600 ca.key
ls -l
tree
cat client.ovpn
rm client.ovpn
nano client.ovpn
./start_client.sh 
nano client.ovpn
./start_client.sh 
nano client.ovpn
./start_client.sh 
clear
./start_client.sh 
ls -l
cat ca.crt
nano client.ovpn 
cat client.ovpn 
nano client.ovpn 
./start_client.sh 
nano client.ovpn 
cat client.ovpn
l s-l
cat client.ovpn
nano client.ovpn 
./start_client.sh 
tree
cat client.ovpn
rm client.ovpn
nano client.ovpn
y
nano client.ovpn
./start_client.sh 
nano client.ovpn 
openssl verify -CAfile ca.crt client.crt
ls
openssl x509 -in ca.crt -noout -text | grep -A 1 "Basic Constraints"
ls -l
rm ca*
rm client..c*
rm client.c*
rm client.k*
ls -l
openssl genrsa -out client.key.pem 4096
openssl req -new -key client.key.pem -out client.csr.pem   -subj "/C=ES/ST=Asturias/L=Oviedo/O=MiEmpresa/CN=cliente.local"
ls -l
nano ca.cert.pem
nano ca.key.pem
openssl x509 -req -in client.csr.pem -CA ca.cert.pem -CAkey ca.key.pem   -CAcreateserial -out client.cert.pem -days 365   -extensions v3_client -extfile <(cat <<EOF
[v3_client]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid,issuer
basicConstraints = CA:FALSE
keyUsage = critical, digitalSignature
extendedKeyUsage = clientAuth
EOF

)
cat cliet.ov
cat client.ovpn 
tree
rm client.ovpn 
nano client.ovpn
openssl x509 -in /root/openvpn-ca/client.cert.pem -text -noout
openssl verify -CAfile /root/openvpn-ca/ca.cert.pem /root/openvpn-ca/client.cert.pem
./start_client.sh 
